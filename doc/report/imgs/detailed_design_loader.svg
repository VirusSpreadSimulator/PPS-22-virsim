<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="504px" preserveAspectRatio="none" style="width:777px;height:504px;background:#FFFFFF;" version="1.1" viewBox="0 0 777 504" width="777px" zoomAndPan="magnify"><defs/><g><!--MD5=[8d729038c48ea67d1bfca0b0b8d717df]
class Loader--><rect codeLine="3" fill="#FEFECE" height="84.3516" id="Loader" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="395" x="375.5" y="7"/><ellipse cx="547.25" cy="25.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M543.1719,21.7344 L543.1719,19.5781 L550.5625,19.5781 L550.5625,21.7344 L548.0938,21.7344 L548.0938,29.8125 L550.5625,29.8125 L550.5625,31.9688 L543.1719,31.9688 L543.1719,29.8125 L545.6406,29.8125 L545.6406,21.7344 L543.1719,21.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="569.25" y="23.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="43" x="567.75" y="37.1074">Loader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="376.5" x2="769.5" y1="44.9375" y2="44.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="329" x="381.5" y="59.1479">parseConfiguration(path: Path): Task[ConfigurationResult]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="383" x="381.5" y="71.9526">createEnvironment(configuration: Configuration):Task[Environment]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="296" x="381.5" y="84.7573">startEngine(configuration: Configuration): Task[Unit]</text><!--MD5=[628cc5a2753cca06eb1ffef55c386535]
class Parser--><rect codeLine="9" fill="#FEFECE" height="84.3516" id="Parser" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="400" x="7" y="151"/><ellipse cx="182.25" cy="169.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M178.1719,165.7344 L178.1719,163.5781 L185.5625,163.5781 L185.5625,165.7344 L183.0938,165.7344 L183.0938,173.8125 L185.5625,173.8125 L185.5625,175.9688 L178.1719,175.9688 L178.1719,173.8125 L180.6406,173.8125 L180.6406,165.7344 L178.1719,165.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="203.25" y="167.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="41" x="202.75" y="181.1074">Parser</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="406" y1="188.9375" y2="188.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="13" y="203.1479">readFile(path: Path): Task[String]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="363" x="13" y="215.9526">loadConfiguration(program: String): Task[Option[Configuration]]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="388" x="13" y="228.7573">checkErrors(configuration: Configuration): Task[ConfigurationResult]</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect codeLine="15" fill="#FEFECE" height="58.7422" id="Reader" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="200" x="453" y="439"/><ellipse cx="526.25" cy="457.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M522.1719,453.7344 L522.1719,451.5781 L529.5625,451.5781 L529.5625,453.7344 L527.0938,453.7344 L527.0938,461.8125 L529.5625,461.8125 L529.5625,463.9688 L522.1719,463.9688 L522.1719,461.8125 L524.6406,461.8125 L524.6406,453.7344 L522.1719,453.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="549.25" y="455.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="546.75" y="469.1074">Reader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="454" x2="652" y1="476.9375" y2="476.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="459" y="491.1479">readFile(path: Path): Task[String]</text><!--MD5=[5fb592abf37ae35168a4783a7faf7817]
class EntityFactory--><rect codeLine="19" fill="#FEFECE" height="58.7422" id="EntityFactory" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="315" x="442.5" y="163.5"/><ellipse cx="555.25" cy="182.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M551.1719,178.2344 L551.1719,176.0781 L558.5625,176.0781 L558.5625,178.2344 L556.0938,178.2344 L556.0938,186.3125 L558.5625,186.3125 L558.5625,188.4688 L551.1719,188.4688 L551.1719,186.3125 L553.6406,186.3125 L553.6406,178.2344 L551.1719,178.2344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="596.25" y="179.6387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="575.75" y="193.6074">EntityFactory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="443.5" x2="756.5" y1="201.4375" y2="201.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="303" x="448.5" y="215.6479">create(configuration: Configuration): Task[Set[Entity]]</text><!--MD5=[9b7eb76f801c309757ef5968cb2349d9]
class Configuration--><rect codeLine="23" fill="#FEFECE" height="84.3516" id="Configuration" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="167" x="260.5" y="295"/><ellipse cx="298.45" cy="313.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M294.3719,309.7344 L294.3719,307.5781 L301.7625,307.5781 L301.7625,309.7344 L299.2938,309.7344 L299.2938,317.8125 L301.7625,317.8125 L301.7625,319.9688 L294.3719,319.9688 L294.3719,317.8125 L296.8406,317.8125 L296.8406,309.7344 L294.3719,309.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="339.55" y="311.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="84" x="317.55" y="325.1074">Configuration</text><line style="stroke:#A80036;stroke-width:1.5;" x1="261.5" x2="426.5" y1="332.9375" y2="332.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="266.5" y="347.1479">simulation(): Simulation</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="266.5" y="359.9526">virus(): Virus</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="266.5" y="372.7573">structures(): Set[Structure]</text><rect fill="#FEFECE" height="47.9375" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="51" x="688.5" y="444.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="41" x="693.5" y="455.6387">«type»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="29" x="699.5" y="471.6074">Path</text><line style="stroke:#A80036;stroke-width:1.5;" x1="689.5" x2="738.5" y1="476.4375" y2="476.4375"/><!--MD5=[7716e864fb07969ade38e6a559a14183]
class JSReader--><rect codeLine="31" fill="#FEFECE" height="45.9375" id="JSReader" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="88" x="509" y="314"/><ellipse cx="524" cy="332.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M519.9219,328.7344 L519.9219,326.5781 L527.3125,326.5781 L527.3125,328.7344 L524.8438,328.7344 L524.8438,336.8125 L527.3125,336.8125 L527.3125,338.9688 L519.9219,338.9688 L519.9219,336.8125 L522.3906,336.8125 L522.3906,328.7344 L519.9219,328.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="546" y="330.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="56" x="538" y="344.1074">JSReader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="510" x2="596" y1="351.9375" y2="351.9375"/><!--MD5=[849a1c4b6ba6316866220355fe26f48a]
class JVMReader--><rect codeLine="32" fill="#FEFECE" height="45.9375" id="JVMReader" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="98" x="632" y="314"/><ellipse cx="647" cy="332.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M642.9219,328.7344 L642.9219,326.5781 L650.3125,326.5781 L650.3125,328.7344 L647.8438,328.7344 L647.8438,336.8125 L650.3125,336.8125 L650.3125,338.9688 L642.9219,338.9688 L642.9219,336.8125 L645.3906,336.8125 L645.3906,328.7344 L642.9219,328.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="674" y="330.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="66" x="661" y="344.1074">JVMReader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="633" x2="729" y1="351.9375" y2="351.9375"/><!--MD5=[7bcba8d2e3d6f4ed115652be039f270f]
class ScalaParser--><rect codeLine="34" fill="#FEFECE" height="45.9375" id="ScalaParser" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="107" x="39.5" y="26"/><ellipse cx="54.5" cy="44.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M50.4219,40.7344 L50.4219,38.5781 L57.8125,38.5781 L57.8125,40.7344 L55.3438,40.7344 L55.3438,48.8125 L57.8125,48.8125 L57.8125,50.9688 L50.4219,50.9688 L50.4219,48.8125 L52.8906,48.8125 L52.8906,40.7344 L50.4219,40.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="86" y="42.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="68.5" y="56.1074">ScalaParser</text><line style="stroke:#A80036;stroke-width:1.5;" x1="40.5" x2="145.5" y1="63.9375" y2="63.9375"/><!--MD5=[dcb982ca666abc85f545bfcd1d49b6ad]
class YAMLParser--><rect codeLine="35" fill="#FEFECE" height="45.9375" id="YAMLParser" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="104" x="182" y="26"/><ellipse cx="197" cy="44.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M192.9219,40.7344 L192.9219,38.5781 L200.3125,38.5781 L200.3125,40.7344 L197.8438,40.7344 L197.8438,48.8125 L200.3125,48.8125 L200.3125,50.9688 L192.9219,50.9688 L192.9219,48.8125 L195.3906,48.8125 L195.3906,40.7344 L192.9219,40.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="227" y="42.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72" x="211" y="56.1074">YAMLParser</text><line style="stroke:#A80036;stroke-width:1.5;" x1="183" x2="285" y1="63.9375" y2="63.9375"/><!--MD5=[92f4494d7f14a85140c1c1e5e4dae701]
reverse link Reader to Path--><path codeLine="37" d="M666.47,468.5 C673.78,468.5 681.09,468.5 688.4,468.5 " fill="none" id="Reader-backto-Path" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="#454645" points="653.31,468.5,659.31,472.5,665.31,468.5,659.31,464.5,653.31,468.5" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[501324d480d2e504ab1be5af72cf226d]
link JVMReader to Reader--><path codeLine="38" d="M659,360.26 C641.66,377.8 616.95,402.8 595.76,424.24 " fill="none" id="JVMReader-to-Reader" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="none" points="600.48,429.42,581.44,438.73,590.52,419.58,600.48,429.42" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[ca9e6a85e7852b65f2257833f6049d81]
link JSReader to Reader--><path codeLine="39" d="M553,360.26 C553,376.28 553,398.51 553,418.57 " fill="none" id="JSReader-to-Reader" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="none" points="560,418.73,553,438.73,546,418.73,560,418.73" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[14b12de21085dd35d81a8344cf2385da]
link ScalaParser to Parser--><path codeLine="41" d="M110.81,72.19 C124.37,89.07 143.65,113.1 161.4,135.2 " fill="none" id="ScalaParser-to-Parser" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="none" points="166.89,130.85,173.95,150.83,155.97,139.62,166.89,130.85" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[b3dda5f7e26b632ae91120c1224599a4]
link YAMLParser to Parser--><path codeLine="42" d="M229.78,72.19 C226.77,88.01 222.57,110.09 218.6,131 " fill="none" id="YAMLParser-to-Parser" style="stroke:#454645;stroke-width:1.0;"/><polygon fill="none" points="225.44,132.49,214.83,150.83,211.69,129.88,225.44,132.49" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[acddb9202b17db0601a5d70b322a3357]
link Loader to Parser--><path codeLine="44" d="M467.14,91.07 C418.69,109.87 361.4,132.1 312.94,150.9 " fill="none" id="Loader-Parser" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[19f582dbff061b7632cb7f987e990ed2]
link Parser to Reader--><path codeLine="45" d="M203.49,235.1 C202.3,276.63 207.27,340.06 243,379 C271.48,410.03 373.61,435.16 452.96,450.61 " fill="none" id="Parser-Reader" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[049dfceb7911e692755e5c633e50293f]
link Loader to EntityFactory--><path codeLine="47" d="M580.81,91.07 C585.2,114.17 590.58,142.44 594.52,163.18 " fill="none" id="Loader-EntityFactory" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[bac2a8f430b53049e4ac9211f6a57ae2]
link Parser to Configuration--><path codeLine="49" d="M246.63,235.07 C264.64,253.75 285.92,275.8 303.99,294.53 " fill="none" id="Parser-Configuration" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[5c7748392dd9e39ac4a18bea1574fa43]
link EntityFactory to JSReader--><!--MD5=[b1dd07959811b7cbf98767a63ad28d2d]
@startuml
!theme vibrant

interface Loader <<trait>> {
 parseConfiguration(path: Path): Task[ConfigurationResult]
 createEnvironment(configuration: Configuration):Task[Environment]
 startEngine(configuration: Configuration): Task[Unit] 
}

interface Parser <<trait>> {
  readFile(path: Path): Task[String]
  loadConfiguration(program: String): Task[Option[Configuration]]
  checkErrors(configuration: Configuration): Task[ConfigurationResult]
}

interface Reader <<trait>> {
  readFile(path: Path): Task[String]
}

interface EntityFactory <<trait>> {
  create(configuration: Configuration): Task[Set[Entity]]
}

interface Configuration <<trait>> {
  simulation(): Simulation
  virus(): Virus
  structures(): Set[Structure]
}

object Path <<type>>

interface JSReader <<trait>>
interface JVMReader <<trait>>

interface ScalaParser <<trait>>
interface YAMLParser <<trait>>

Reader *- Path
JVMReader - -|> Reader
JSReader - -|> Reader

ScalaParser - -|> Parser
YAMLParser - -|> Parser

Loader - - Parser
Parser - - Reader

Loader - - EntityFactory

Parser - - Configuration

EntityFactory -[hidden]- JSReader
hide fields

@enduml

@startuml
skinparam BackgroundColor FFFFFF
skinparam shadowing false
skinparam RoundCorner 7
skinparam ArrowColor 454645
skinparam FontColor 454645
skinparam SequenceLifeLineBorderColor 696969
skinparam SequenceGroupHeaderFontColor 454645
skinparam SequenceGroupFontColor 696969
skinparam SequenceGroupBorderColor 696969
skinparam SequenceGroupBorderThickness 1

skinparam sequenceDivider {
    BorderColor 454645
    BorderThickness 1
    FontColor 454645
}

skinparam participant {
    BackgroundColor FF6347
    BorderColor FF6F61
    FontColor FFFFFF
}

skinparam database {
    BackgroundColor 00FFFF
    BorderColor 454645
    FontColor 454645
}

skinparam entity {
    BackgroundColor FFE552
    BorderColor 454645
    FontColor 454645
}

skinparam note {
    BackgroundColor 7FFFD4
    BorderColor 7FFFD4
    FontColor 454645
}

skinparam actor {
    BackgroundColor 454645
    BorderColor 454645
    FontColor 454645
}

skinparam boundary {
    BackgroundColor FFE552
    BorderColor 454645
    FontColor 454645
}

skinparam control {
    BackgroundColor FFE552
    BorderColor 454645
    FontColor 454645
}

skinparam collections {
    BackgroundColor FF6347
    BorderColor FFFFFF
    FontColor 454645
}

skinparam queue {
    BackgroundColor FF6347
    BorderColor FFF
    FontColor FFF
    BorderThickness 1.5
}

interface Loader <<trait>> {
 parseConfiguration(path: Path): Task[ConfigurationResult]
 createEnvironment(configuration: Configuration):Task[Environment]
 startEngine(configuration: Configuration): Task[Unit] 
}

interface Parser <<trait>> {
  readFile(path: Path): Task[String]
  loadConfiguration(program: String): Task[Option[Configuration]]
  checkErrors(configuration: Configuration): Task[ConfigurationResult]
}

interface Reader <<trait>> {
  readFile(path: Path): Task[String]
}

interface EntityFactory <<trait>> {
  create(configuration: Configuration): Task[Set[Entity]]
}

interface Configuration <<trait>> {
  simulation(): Simulation
  virus(): Virus
  structures(): Set[Structure]
}

object Path <<type>>

interface JSReader <<trait>>
interface JVMReader <<trait>>

interface ScalaParser <<trait>>
interface YAMLParser <<trait>>

Reader *- Path
JVMReader - -|> Reader
JSReader - -|> Reader

ScalaParser - -|> Parser
YAMLParser - -|> Parser

Loader - - Parser
Parser - - Reader

Loader - - EntityFactory

Parser - - Configuration

EntityFactory -[hidden]- JSReader
hide fields

@enduml

PlantUML version 1.2021.13(Mon Nov 01 12:38:45 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>