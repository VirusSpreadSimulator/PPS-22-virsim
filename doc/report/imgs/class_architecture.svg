<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="636px" preserveAspectRatio="none" style="width:696px;height:636px;background:#FFFFFF;" version="1.1" viewBox="0 0 696 636" width="696px" zoomAndPan="magnify"><defs/><g><!--MD5=[d4eea0a2640b0744e449422abbb6da5e]
class Boundary--><rect codeLine="4" fill="#FEFECE" height="109.9609" id="Boundary" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="236" x="217" y="7"/><ellipse cx="301.25" cy="25.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M297.1719,21.7344 L297.1719,19.5781 L304.5625,19.5781 L304.5625,21.7344 L302.0938,21.7344 L302.0938,29.8125 L304.5625,29.8125 L304.5625,31.9688 L297.1719,31.9688 L297.1719,29.8125 L299.6406,29.8125 L299.6406,21.7344 L297.1719,21.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="331.25" y="23.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="59" x="321.75" y="37.1074">Boundary</text><line style="stroke:#A80036;stroke-width:1.5;" x1="218" x2="452" y1="44.9375" y2="44.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="223" y="59.1479">init(): Task[Unit]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="223" y="71.9526">start(): Task[Unit]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="223" y="84.7573">events(): Observable[Event]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="224" x="223" y="97.562">consume(env: Environment): Task[Unit]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="223" y="110.3667">stop(): Task[Unit]</text><!--MD5=[c86ce95fe6226f2d2796c0513d8e83fe]
class Engine--><rect codeLine="12" fill="#FEFECE" height="58.7422" id="Engine" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="298" x="7" y="308.5"/><ellipse cx="130.25" cy="327.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M126.1719,323.2344 L126.1719,321.0781 L133.5625,321.0781 L133.5625,323.2344 L131.0938,323.2344 L131.0938,331.3125 L133.5625,331.3125 L133.5625,333.4688 L126.1719,333.4688 L126.1719,331.3125 L128.6406,331.3125 L128.6406,323.2344 L126.1719,323.2344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="152.25" y="324.6387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="43" x="150.75" y="338.6074">Engine</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="304" y1="346.4375" y2="346.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="286" x="13" y="360.6479">startSimulationLoop(env: Environment): Task[Unit]</text><!--MD5=[db3170b8313bf70303600a68db1112cb]
class Launcher--><rect codeLine="16" fill="#FEFECE" height="58.7422" id="Launcher" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="122" x="392" y="177"/><ellipse cx="421.4" cy="195.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M417.3219,191.7344 L417.3219,189.5781 L424.7125,189.5781 L424.7125,191.7344 L422.2438,191.7344 L422.2438,199.8125 L424.7125,199.8125 L424.7125,201.9688 L417.3219,201.9688 L417.3219,199.8125 L419.7906,199.8125 L419.7906,191.7344 L417.3219,191.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="447.6" y="193.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="438.6" y="207.1074">Launcher</text><line style="stroke:#A80036;stroke-width:1.5;" x1="393" x2="513" y1="214.9375" y2="214.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="398" y="229.1479">launch(): Task[Unit]</text><!--MD5=[8d729038c48ea67d1bfca0b0b8d717df]
class Loader--><rect codeLine="20" fill="#FEFECE" height="84.3516" id="Loader" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="349" x="340.5" y="296"/><ellipse cx="489.25" cy="314.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M485.1719,310.7344 L485.1719,308.5781 L492.5625,308.5781 L492.5625,310.7344 L490.0938,310.7344 L490.0938,318.8125 L492.5625,318.8125 L492.5625,320.9688 L485.1719,320.9688 L485.1719,318.8125 L487.6406,318.8125 L487.6406,310.7344 L485.1719,310.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="511.25" y="312.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="43" x="509.75" y="326.1074">Loader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="341.5" x2="688.5" y1="333.9375" y2="333.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="253" x="346.5" y="348.1479">parseConfiguration(path: Path): Task[Result]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="337" x="346.5" y="360.9526">createEnvironment(conf: Configuration): Task[Environment]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="246" x="346.5" y="373.7573">startEngine(conf: Configuration): Task[Unit]</text><!--MD5=[628cc5a2753cca06eb1ffef55c386535]
class Parser--><rect codeLine="27" fill="#FEFECE" height="84.3516" id="Parser" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="330" x="350" y="440"/><ellipse cx="490.25" cy="458.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M486.1719,454.7344 L486.1719,452.5781 L493.5625,452.5781 L493.5625,454.7344 L491.0938,454.7344 L491.0938,462.8125 L493.5625,462.8125 L493.5625,464.9688 L486.1719,464.9688 L486.1719,462.8125 L488.6406,462.8125 L488.6406,454.7344 L486.1719,454.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="511.25" y="456.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="41" x="510.75" y="470.1074">Parser</text><line style="stroke:#A80036;stroke-width:1.5;" x1="351" x2="679" y1="477.9375" y2="477.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="356" y="492.1479">readFile(path: Path): Task[String]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="318" x="356" y="504.9526">loadConfiguration(program: String): Task[Configuration]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="356" y="517.7573">checkErrors(conf: Configuration): Task[Result]</text><!--MD5=[5d0a77e8f66918aa15fe0099dd6d4ba9]
class Environment--><rect codeLine="34" fill="#FEFECE" height="71.5469" id="Environment" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="110" x="153" y="446"/><ellipse cx="168" cy="464.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M163.9219,460.7344 L163.9219,458.5781 L171.3125,458.5781 L171.3125,460.7344 L168.8438,460.7344 L168.8438,468.8125 L171.3125,468.8125 L171.3125,470.9688 L163.9219,470.9688 L163.9219,468.8125 L166.3906,468.8125 L166.3906,460.7344 L163.9219,460.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="201" y="462.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="78" x="182" y="476.1074">Environment</text><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="262" y1="483.9375" y2="483.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69" x="159" y="498.1479">time(): Time</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="159" y="510.9526">size(): Int</text><!--MD5=[583949b48bb58d687b700008f98c6a20]
class Virus--><rect codeLine="40" fill="#FEFECE" height="45.9375" id="Virus" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="59" y="584"/><ellipse cx="74" cy="602.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M69.9219,598.7344 L69.9219,596.5781 L77.3125,596.5781 L77.3125,598.7344 L74.8438,598.7344 L74.8438,606.8125 L77.3125,606.8125 L77.3125,608.9688 L69.9219,608.9688 L69.9219,606.8125 L72.3906,606.8125 L72.3906,598.7344 L69.9219,598.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="86" y="600.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="31" x="90.5" y="614.1074">Virus</text><line style="stroke:#A80036;stroke-width:1.5;" x1="60" x2="126" y1="621.9375" y2="621.9375"/><!--MD5=[3915787db80ab162e3259f8f86339844]
class Structure--><rect codeLine="41" fill="#FEFECE" height="45.9375" id="Structure" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="91" x="162.5" y="584"/><ellipse cx="177.5" cy="602.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M173.4219,598.7344 L173.4219,596.5781 L180.8125,596.5781 L180.8125,598.7344 L178.3438,598.7344 L178.3438,606.8125 L180.8125,606.8125 L180.8125,608.9688 L173.4219,608.9688 L173.4219,606.8125 L175.8906,606.8125 L175.8906,598.7344 L173.4219,598.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="201" y="600.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="59" x="191.5" y="614.1074">Structure</text><line style="stroke:#A80036;stroke-width:1.5;" x1="163.5" x2="252.5" y1="621.9375" y2="621.9375"/><!--MD5=[be996cdb8e6bf2fc7cb89c555f2cd144]
class Entity--><rect codeLine="42" fill="#FEFECE" height="45.9375" id="Entity" rx="3.5" ry="3.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="289" y="584"/><ellipse cx="304" cy="602.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M299.9219,598.7344 L299.9219,596.5781 L307.3125,596.5781 L307.3125,598.7344 L304.8438,598.7344 L304.8438,606.8125 L307.3125,606.8125 L307.3125,608.9688 L299.9219,608.9688 L299.9219,606.8125 L302.3906,606.8125 L302.3906,598.7344 L299.9219,598.7344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="316" y="600.1387">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="318.5" y="614.1074">Entity</text><line style="stroke:#A80036;stroke-width:1.5;" x1="290" x2="356" y1="621.9375" y2="621.9375"/><!--MD5=[5755c8df24356e9428b44920262da903]
link Environment to Virus--><path codeLine="46" d="M175.05,518.25 C155.27,539.4 130.72,565.66 113.65,583.91 " fill="none" id="Environment-Virus" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[b712e0bef1368955217c911e44191a80]
link Environment to Structure--><path codeLine="47" d="M208,518.25 C208,539.4 208,565.66 208,583.91 " fill="none" id="Environment-Structure" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[67e328040028ba60796c6a1aae205651]
link Environment to Entity--><path codeLine="48" d="M240.95,518.25 C260.73,539.4 285.28,565.66 302.35,583.91 " fill="none" id="Environment-Entity" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[949f1fcec0ba7c62762cb8105ff9f66e]
reverse link Boundary to Engine--><path codeLine="50" d="M296.74,121.56 C259.22,178.99 203.59,264.15 174.8,308.23 " fill="none" id="Boundary-backto-Engine" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#454645" points="299.64,117.13,291.3615,122.4654,296.8995,121.3121,298.0528,126.8501,299.64,117.13" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[817029c390b635902b3d220e50caad6e]
reverse link Boundary to Launcher--><path codeLine="51" d="M383.51,121.59 C399.32,140.67 416.16,161.02 429.31,176.89 " fill="none" id="Boundary-backto-Launcher" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#454645" points="379.95,117.28,382.6353,126.7557,383.1495,121.1223,388.783,121.6365,379.95,117.28" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[7fa192a5cadff1e06104c2d1af49c6c5]
link Launcher to Loader--><path codeLine="53" d="M466.76,236.24 C474.46,252.31 484.23,272.73 492.97,290.98 " fill="none" id="Launcher-to-Loader" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#454645" points="495.16,295.56,494.8887,285.7149,493.0042,291.0486,487.6705,289.1641,495.16,295.56" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[acddb9202b17db0601a5d70b322a3357]
link Loader to Parser--><path codeLine="55" d="M515,380.07 C515,397 515,416.7 515,434.18 " fill="none" id="Loader-to-Parser" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#454645" points="515,439.53,519,430.53,515,434.53,511,430.53,515,439.53" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[1ac1fac28c7062ed32ea6dd4232491e9]
link Engine to Environment--><path codeLine="57" d="M166.52,367.74 C174.23,388.77 184.78,417.58 193.31,440.88 " fill="none" id="Engine-to-Environment" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#454645" points="195.1,445.77,195.7643,435.9436,193.3821,441.0744,188.2513,438.6922,195.1,445.77" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[a6440a9b4e0e2e2a2aa2b6351013b018]
link Loader to Environment--><path codeLine="59" d="M426.2,380.07 C375.35,403.59 312.91,432.47 267.87,453.31 " fill="none" id="Loader-to-Environment" style="stroke:#454645;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#454645" points="263.29,455.42,273.1376,455.2626,267.826,453.3165,269.7721,448.005,263.29,455.42" style="stroke:#454645;stroke-width:1.0;"/><!--MD5=[a2f7058d04c9a68736632193165380e6]
@startuml

!theme vibrant

interface Boundary <<trait>> {
  init(): Task[Unit]
  start(): Task[Unit]
  events(): Observable[Event]
  consume(env: Environment): Task[Unit]
  stop(): Task[Unit]
}

interface Engine <<trait>> {
  startSimulationLoop(env: Environment): Task[Unit]
}

interface Launcher <<trait>> {
  launch(): Task[Unit]
}

interface Loader <<trait>> {
  parseConfiguration(path: Path): Task[Result]
  createEnvironment(conf: Configuration): Task[Environment]
  startEngine(conf: Configuration): Task[Unit]
}


interface Parser <<trait>> {
  readFile(path: Path): Task[String]
  loadConfiguration(program: String): Task[Configuration]
  checkErrors(conf: Configuration): Task[Result]
}


interface Environment <<trait>> {
  time(): Time
  size(): Int
}


interface Virus <<trait>>
interface Structure <<trait>>
interface Entity <<trait>>

hide fields

Environment - - Virus
Environment - - Structure
Environment - - Entity

Boundary <.. Engine
Boundary <.. Launcher

Launcher ..> Loader

Loader ..> Parser

Engine ..> Environment

Loader ..> Environment

@enduml

@startuml

skinparam BackgroundColor FFFFFF
skinparam shadowing false
skinparam RoundCorner 7
skinparam ArrowColor 454645
skinparam FontColor 454645
skinparam SequenceLifeLineBorderColor 696969
skinparam SequenceGroupHeaderFontColor 454645
skinparam SequenceGroupFontColor 696969
skinparam SequenceGroupBorderColor 696969
skinparam SequenceGroupBorderThickness 1

skinparam sequenceDivider {
    BorderColor 454645
    BorderThickness 1
    FontColor 454645
}

skinparam participant {
    BackgroundColor FF6347
    BorderColor FF6F61
    FontColor FFFFFF
}

skinparam database {
    BackgroundColor 00FFFF
    BorderColor 454645
    FontColor 454645
}

skinparam entity {
    BackgroundColor FFE552
    BorderColor 454645
    FontColor 454645
}

skinparam note {
    BackgroundColor 7FFFD4
    BorderColor 7FFFD4
    FontColor 454645
}

skinparam actor {
    BackgroundColor 454645
    BorderColor 454645
    FontColor 454645
}

skinparam boundary {
    BackgroundColor FFE552
    BorderColor 454645
    FontColor 454645
}

skinparam control {
    BackgroundColor FFE552
    BorderColor 454645
    FontColor 454645
}

skinparam collections {
    BackgroundColor FF6347
    BorderColor FFFFFF
    FontColor 454645
}

skinparam queue {
    BackgroundColor FF6347
    BorderColor FFF
    FontColor FFF
    BorderThickness 1.5
}

interface Boundary <<trait>> {
  init(): Task[Unit]
  start(): Task[Unit]
  events(): Observable[Event]
  consume(env: Environment): Task[Unit]
  stop(): Task[Unit]
}

interface Engine <<trait>> {
  startSimulationLoop(env: Environment): Task[Unit]
}

interface Launcher <<trait>> {
  launch(): Task[Unit]
}

interface Loader <<trait>> {
  parseConfiguration(path: Path): Task[Result]
  createEnvironment(conf: Configuration): Task[Environment]
  startEngine(conf: Configuration): Task[Unit]
}


interface Parser <<trait>> {
  readFile(path: Path): Task[String]
  loadConfiguration(program: String): Task[Configuration]
  checkErrors(conf: Configuration): Task[Result]
}


interface Environment <<trait>> {
  time(): Time
  size(): Int
}


interface Virus <<trait>>
interface Structure <<trait>>
interface Entity <<trait>>

hide fields

Environment - - Virus
Environment - - Structure
Environment - - Entity

Boundary <.. Engine
Boundary <.. Launcher

Launcher ..> Loader

Loader ..> Parser

Engine ..> Environment

Loader ..> Environment

@enduml

PlantUML version 1.2021.13(Mon Nov 01 12:38:45 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>